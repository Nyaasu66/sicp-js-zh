# 1
用函数构建抽象

> 在头脑的活动中，它对简单的想法施加力量，主要是这三种：1）将几个简单的想法组合成一个复合的想法，这样所有复杂的想法就产生了。2）第二种是把两个观念，不管是简单的还是复杂的，放在一起，把它们放在一起，以便立刻看到它们，而不是把它们结合成一个，这样它就能得到所有关于关系的观念。3）第三是将它们与伴随它们真实存在的所有其他观念分开:这被称为抽象，因此它的所有一般观念都是由它们构成的。
> 
> —约翰·洛克，一篇关于人类理解的论文(1690)

我们将要研究一个计算过程的想法。计算过程是存在于计算机中的抽象存在。随着它们的发展，进程操纵其他被称为数据的抽象事物。一个过程的发展是由一个叫做程序的规则模式来指导的。人们创建程序来指导过程。实际上，我们用咒语召唤计算机的灵魂。

计算过程确实很像巫师对灵魂的想法。它看不见也摸不着。它根本不是由物质构成的。但是，很真实。它可以从事智力工作。它可以回答问题。它可以通过在银行付款或控制工厂的机器人手臂来影响世界。我们用来变戏法的程序就像一个巫师的咒语。它们由晦涩难懂的编程语言中的符号表达式精心组合而成，这些语言规定了我们希望流程执行的任务。

在正常工作的计算机中，计算过程精确地执行程序。因此，就像魔法师的学徒一样，编程新手必须学会理解和预测他们变戏法的后果。即使是程序中的小错误(通常被称为 bug)也会产生复杂且无法预料的后果。

幸运的是，学习编程比学习巫术要危险得多，因为我们所接触的灵魂都被安全地包含在其中。然而，真实世界的编程需要细心、专业知识和智慧。例如，计算机辅助设计程序中的一个小错误就可能导致飞机或大坝的灾难性倒塌，或者工业机器人的自我毁灭。

主软件工程师有能力组织程序，以便他们可以合理地确定最终的过程将执行预期的任务。他们可以提前看到他们系统的行为。他们知道如何构建程序，以便意料之外的问题不会导致灾难性的后果，并且当问题确实出现时，他们可以调试他们的程序。设计良好的计算系统，就像设计良好的汽车或核反应堆一样，是以模块化的方式设计的，因此各个部分可以单独构建、替换和调试。

##### JavaScript 编程

我们需要一种合适的语言来描述流程，为此我们将使用编程语言 JavaScript。就像我们的日常思维通常用我们的自然语言(如英语、瑞典语或汉语)来表达，对定量现象的描述用数学符号来表达一样，我们的程序性思维也会用 JavaScript 来表达。JavaScript 是 1995 年开发的一种编程语言，用于通过嵌入网页的脚本来控制万维网浏览器的行为。这种语言是由布伦丹·艾希构思的，最初的名字是摩卡，后来改名为 LiveScript ，最后改名为 JavaScript。名称“JavaScript”是甲骨文公司的商标。

尽管 JavaScript 最初是一种用于编写 web 脚本的语言，但它是一种通用编程语言。JavaScript 解释器是执行 JavaScript 语言描述的过程的机器。第一个 JavaScript 解释器是由网景通信公司的 Eich 为网景浏览器实现的。JavaScript 继承了 Scheme 和 Self 编程语言的核心特性。Scheme 是 Lisp 的一种方言，被用作本书最初版本的编程语言。JavaScript 从 Scheme 继承了它最基本的设计原则，比如词法范围的一级函数和动态类型。

JavaScript 与 Java 语言只有表面上的相似之处，Java(最终)以 Java 命名；Java 和 JavaScript 都使用 C 语言的块结构。与 Java 和 C 语言不同，Java 和 C 语言通常使用编译低级语言，JavaScript 程序最初是由 web 浏览器解释的。在 Netscape Navigator 之后，其他网络浏览器提供了这种语言的解释器，包括微软的 Internet Explorer，其 JavaScript 版本被称为 JScript 。用于控制网络浏览器的 JavaScript 的流行引发了标准化的努力，最终导致了 ECMAScript 。ECMAScript 标准的第一版由 Guy Lewis Steele Jr .领导并于 1997 年 6 月完成(ECMA 1997)。第六版称为 ECMAScript 2015，由 Allen Wirfs-Brock 牵头编写，2015 年 6 月由 ECMA 大会通过(ECMA，2015 年)。

在网页中嵌入 JavaScript 程序的实践鼓励了 web 浏览器的开发者实现 JavaScript 解释器。随着这些程序变得越来越复杂，解释器在执行它们时变得更加高效，最终使用了复杂的实现技术，如实时(JIT)编译。在撰写本文时(2021 年)，大多数 JavaScript 程序都嵌入在网页中，并由浏览器解释，但 JavaScript 越来越多地被用作通用编程语言，使用 Node.js 等系统。

ECMAScript 2015 拥有一组功能，使其成为研究重要编程构造和数据结构以及将它们与支持它们的语言功能相关联的优秀媒介。它的词汇范围的一级函数和它们通过 Lambda  表达式的语法支持提供了对函数抽象的直接和简洁的访问，并且动态类型允许改编在整本书中保持接近原始的方案。除了这些考虑之外，用 JavaScript 编程非常有趣。